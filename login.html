<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TrustFin - Î°úÍ∑∏Ïù∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="common.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen flex flex-col justify-center items-center p-6 py-12 select-none transition-colors duration-300">
    <div class="max-w-md w-full space-y-8">
        <div class="text-center">
            <h2 class="text-3xl font-bold text-gray-900 dark:text-white">TrustFin Ï≤¥ÌóòÌïòÍ∏∞</h2>
            <p class="mt-2 text-gray-600 dark:text-gray-400">Ï≤¥ÌóòÌï† ÌéòÎ•¥ÏÜåÎÇòÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.</p>
        </div>
        
        <div class="space-y-4">
            <!-- Persona 1 -->
            <button onclick="selectPersona(1)" class="w-full relative bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-lg hover:shadow-2xl border border-gray-100 dark:border-gray-700 transition-all duration-500 group text-left hover:-translate-y-2 overflow-hidden ring-1 ring-transparent hover:ring-blue-100 dark:hover:ring-blue-900">
                <!-- Background Decoration -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-50 to-transparent dark:from-blue-900/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div>
                
                <div class="relative z-10 flex flex-col h-full">
                    <!-- Header -->
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center gap-2 mb-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300 text-xs font-bold">01</span>
                                <span class="text-xs font-bold text-blue-600 dark:text-blue-400 tracking-wider uppercase">Social Newcomer</span>
                            </div>
                            <h3 class="text-2xl font-extrabold text-gray-900 dark:text-white tracking-tight mb-1">ÍπÄÏ≤†Ïàò</h3>
                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">ÏÇ¨ÌöåÏ¥àÎÖÑÏÉù ¬∑ 29ÏÑ∏</p>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-blue-100 dark:bg-blue-900/30 shadow-sm border border-blue-200 dark:border-blue-800 flex items-center justify-center text-deepBlue dark:text-blue-400 transition-all duration-300">
                            <span class="text-3xl">üë®</span>
                        </div>
                    </div>

                    <!-- Info Grid -->
                    <div class="space-y-2 flex-1">
                        <!-- Financials -->
                        <div class="bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl p-4 border border-blue-100 dark:border-blue-800/30 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors">
                            <div class="flex items-center gap-2 mb-3 opacity-70">
                                <i data-lucide="wallet" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                                <span class="text-[10px] font-bold text-blue-900 dark:text-blue-300 uppercase tracking-wide">Financials</span>
                            </div>
                            <div class="flex justify-between items-end">
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-0.5">Ïó∞ÏÜåÎìù</p>
                                    <p class="text-base font-bold text-gray-900 dark:text-white">2,600<span class="text-xs font-normal text-gray-500 ml-0.5">ÎßåÏõê</span></p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-0.5">Ï¥ù ÏûêÏÇ∞</p>
                                    <p class="text-base font-bold text-gray-900 dark:text-white">500<span class="text-xs font-normal text-gray-500 ml-0.5">ÎßåÏõê</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Credit & Debt -->
                        <div class="bg-gray-50 dark:bg-gray-700/30 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 group-hover:border-blue-100 dark:group-hover:border-blue-800/30 transition-colors">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2 opacity-70">
                                    <i data-lucide="shield-check" class="w-4 h-4 text-gray-500 dark:text-gray-400"></i>
                                    <span class="text-[10px] font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wide">Credit Score</span>
                                </div>
                                <span class="text-xs font-bold text-deepBlue dark:text-blue-400 bg-white dark:bg-gray-600 px-2 py-0.5 rounded-full shadow-sm border border-gray-100 dark:border-gray-500">740Ï†ê</span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center text-sm">
                                    <span class="text-gray-500 dark:text-gray-400">DSR / DTI</span>
                                    <span class="font-bold text-gray-900 dark:text-white">15.2% / 28.5%</span>
                                </div>
                                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1.5 overflow-hidden">
                                    <div class="bg-deepBlue h-full rounded-full" style="width: 74%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hover Action -->
                    <div class="mt-4 flex items-center justify-end border-t border-gray-100 dark:border-gray-700 pt-3 opacity-60 group-hover:opacity-100 transition-opacity duration-300">
                        <div class="flex items-center text-sm font-bold text-deepBlue dark:text-blue-400 gap-1 group-hover:gap-2 transition-all">
                            ÏãúÏûëÌïòÍ∏∞ <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </div>
                    </div>
                </div>
            </button>

            <!-- Persona 2 -->
            <button onclick="selectPersona(2)" class="w-full relative bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-lg hover:shadow-2xl border border-gray-100 dark:border-gray-700 transition-all duration-500 group text-left hover:-translate-y-2 overflow-hidden ring-1 ring-transparent hover:ring-purple-100 dark:hover:ring-purple-900">
                <!-- Background Decoration -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-50 to-transparent dark:from-purple-900/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div>
                
                <div class="relative z-10 flex flex-col h-full">
                    <!-- Header -->
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <div class="flex items-center gap-2 mb-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300 text-xs font-bold">02</span>
                                <span class="text-xs font-bold text-purple-600 dark:text-purple-400 tracking-wider uppercase">Career Pro</span>
                            </div>
                            <h3 class="text-2xl font-extrabold text-gray-900 dark:text-white tracking-tight mb-1">Ïù¥ÏòÅÌù¨</h3>
                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Í≤ΩÎ†•ÏßÅ ¬∑ 32ÏÑ∏</p>
                        </div>
                        <div class="w-14 h-14 rounded-2xl bg-purple-100 dark:bg-purple-900/30 shadow-sm border border-purple-200 dark:border-purple-800 flex items-center justify-center text-electricPurple dark:text-purple-400 transition-all duration-300">
                            <span class="text-3xl">üë©</span>
                        </div>
                    </div>

                    <!-- Info Grid -->
                    <div class="space-y-2 flex-1">
                        <!-- Financials -->
                        <div class="bg-purple-50/50 dark:bg-purple-900/10 rounded-2xl p-4 border border-purple-100 dark:border-purple-800/30 group-hover:bg-purple-50 dark:group-hover:bg-purple-900/20 transition-colors">
                            <div class="flex items-center gap-2 mb-3 opacity-70">
                                <i data-lucide="wallet" class="w-4 h-4 text-purple-600 dark:text-purple-400"></i>
                                <span class="text-[10px] font-bold text-purple-900 dark:text-purple-300 uppercase tracking-wide">Financials</span>
                            </div>
                            <div class="flex justify-between items-end">
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-0.5">Ïó∞ÏÜåÎìù</p>
                                    <p class="text-base font-bold text-gray-900 dark:text-white">4,600<span class="text-xs font-normal text-gray-500 ml-0.5">ÎßåÏõê</span></p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-0.5">Ï¥ù ÏûêÏÇ∞</p>
                                    <p class="text-base font-bold text-gray-900 dark:text-white">3,550<span class="text-xs font-normal text-gray-500 ml-0.5">ÎßåÏõê</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Credit & Debt -->
                        <div class="bg-gray-50 dark:bg-gray-700/30 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 group-hover:border-purple-100 dark:group-hover:border-purple-800/30 transition-colors">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2 opacity-70">
                                    <i data-lucide="shield-check" class="w-4 h-4 text-gray-500 dark:text-gray-400"></i>
                                    <span class="text-[10px] font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wide">Credit Score</span>
                                </div>
                                <span class="text-xs font-bold text-electricPurple dark:text-purple-400 bg-white dark:bg-gray-600 px-2 py-0.5 rounded-full shadow-sm border border-gray-100 dark:border-gray-500">950Ï†ê</span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center text-sm">
                                    <span class="text-gray-500 dark:text-gray-400">DSR / DTI</span>
                                    <span class="font-bold text-gray-900 dark:text-white">24.8% / 32.1%</span>
                                </div>
                                <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1.5 overflow-hidden">
                                    <div class="bg-electricPurple h-full rounded-full" style="width: 95%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hover Action -->
                    <div class="mt-4 flex items-center justify-end border-t border-gray-100 dark:border-gray-700 pt-3 opacity-60 group-hover:opacity-100 transition-opacity duration-300">
                        <div class="flex items-center text-sm font-bold text-electricPurple dark:text-purple-400 gap-1 group-hover:gap-2 transition-all">
                            ÏãúÏûëÌïòÍ∏∞ <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </div>
                    </div>
                </div>
            </button>
        </div>

        <div class="relative flex py-2 items-center">
            <div class="flex-grow border-t border-gray-200 dark:border-gray-700"></div>
            <span class="flex-shrink-0 mx-4 text-gray-400 text-xs font-medium">OR</span>
            <div class="flex-grow border-t border-gray-200 dark:border-gray-700"></div>
        </div>

        <div class="text-center">
            <button onclick="selectGuest()" class="w-full flex items-center justify-center px-8 py-4 text-sm font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm hover:shadow-md hover:text-deepBlue dark:hover:text-blue-400 hover:border-blue-100 dark:hover:border-blue-900 transition-all group">
                <span class="mr-2 text-lg">üëª</span>
                <span>Í≤åÏä§Ìä∏Î°ú ÎëòÎü¨Î≥¥Í∏∞</span>
                <i data-lucide="arrow-right" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"></i>
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 z-50 hidden flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity duration-300 opacity-0">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-2xl flex flex-col items-center transform transition-transform scale-95">
            <div id="loadingIconContainer" class="w-16 h-16 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 text-deepBlue dark:text-blue-400">
                <i data-lucide="loader-2" class="w-8 h-8 animate-spin"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Î°úÍ∑∏Ïù∏ Ï§ë</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 text-center">Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initTheme(); // common.jsÏùò ÌÖåÎßà Ï¥àÍ∏∞Ìôî Ìï®Ïàò Ìò∏Ï∂ú
            if (window.lucide) window.lucide.createIcons();
        });

        function selectPersona(id) {
            // Î°úÎî© Ïò§Î≤ÑÎ†àÏù¥ ÌëúÏãú
            const overlay = document.getElementById('loadingOverlay');
            const content = overlay.querySelector('div');
            const iconContainer = document.getElementById('loadingIconContainer');
            
            // ÌçºÏÜåÎÇòÎ≥Ñ ÌÖåÎßà ÏÉâÏÉÅ Ï†ÅÏö©
            if (id === 2) {
                iconContainer.className = "w-16 h-16 bg-purple-50 dark:bg-purple-900/30 rounded-full flex items-center justify-center mb-4 text-electricPurple dark:text-purple-400";
            } else {
                iconContainer.className = "w-16 h-16 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 text-deepBlue dark:text-blue-400";
            }
            
            overlay.classList.remove('hidden');
            if (window.lucide) window.lucide.createIcons();
            
            requestAnimationFrame(() => {
                overlay.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            });

            // 1Ï¥à ÌõÑ Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨
            setTimeout(() => {
                processLogin(id);
            }, 1000);
        }

        function processLogin(id) {
            let persona = {};
            if (id === 1) {
                persona = {
                    id: 'persona1',
                    name: 'ÍπÄÏ≤†Ïàò', age: 29, job: 'regular', income: 2600, creditScore: 740, dsr: 15.2,
                    accounts: [
                        { bank: 'Íµ≠ÎØºÏùÄÌñâ', balance: 5000000, accountNumber: '123-456-7890' }
                    ],
                    cards: [
                        { bank: 'ÌòÑÎåÄÏ∫êÌîºÌÉà', name: 'ÌòÑÎåÄÏπ¥Îìú M BOOST', number: '1234', amount: 850000 }
                    ],
                    loanCount: 0
                };
            } else {
                persona = {
                    id: 'persona2',
                    name: 'Ïù¥ÏòÅÌù¨', age: 32, job: 'regular', income: 4600, creditScore: 950, dsr: 24.8,
                    accounts: [
                        { bank: 'Íµ≠ÎØºÏùÄÌñâ', balance: 30000000, accountNumber: '123-456-1111' },
                        { bank: 'Ïã†ÌïúÏùÄÌñâ', balance: 5000000, accountNumber: '110-222-333333' },
                        { bank: 'ÌïòÎÇòÏùÄÌñâ', balance: 500000, accountNumber: '333-444-555555' }
                    ],
                    cards: [
                        { bank: 'Ïã†ÌïúÏùÄÌñâ', name: 'Ïã†ÌïúÏπ¥Îìú Deep Dream', number: '5678', amount: 1200000 },
                        { bank: 'ÏÇºÏÑ±Ïπ¥Îìú', name: 'taptap O', number: '9012', amount: 450000 }
                    ],
                    loanCount: 1
                };
            }
            
            // 1. ÏÑ†ÌÉùÌïú ÌéòÎ•¥ÏÜåÎÇò Ï†ÄÏû•
            localStorage.setItem('trustFinPersona', JSON.stringify(persona));
            
            // 2. Ïù¥Ï†Ñ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî (Ï†ïÌôïÌïú ÏûêÏÇ∞ Î∞è ÏÉÅÌÉú Î∞òÏòÅÏùÑ ÏúÑÌï¥)
            localStorage.removeItem('trustFinUserData'); // ÎåÄÏ∂ú ÏûÖÎ†• Ï†ïÎ≥¥
            localStorage.removeItem('trustFinNotifications'); // ÏïåÎ¶º
            localStorage.removeItem('trustFinTransactions'); // Í±∞Îûò ÎÇ¥Ïó≠
            localStorage.removeItem('selectedCard'); // ÏÑ†ÌÉùÎêú Ïπ¥Îìú
            localStorage.removeItem('newDepositAmount'); // Ïã†Í∑ú ÏûÖÍ∏à Ìö®Í≥º ÌîåÎûòÍ∑∏
            localStorage.removeItem('trustFinMyLoans'); // Í∏∞Ï°¥ ÎåÄÏ∂ú ÎÇ¥Ïó≠ Ï¥àÍ∏∞Ìôî

            // ÌçºÏÜåÎÇò 2Ïùò Í≤ΩÏö∞ Í∏∞Ï°¥ ÎåÄÏ∂ú ÎÇ¥Ïó≠ ÏÑ§Ï†ï
            if (id === 2) {
                const defaultLoans = [{
                    id: 'existing_loan_1',
                    personaId: 'persona2',
                    bankName: 'Ïö∞Î¶¨ÏùÄÌñâ',
                    productName: 'ÏßÅÏû•Ïù∏ Ïã†Ïö©ÎåÄÏ∂ú',
                    status: 'active',
                    timestamp: Date.now() - 86400000 * 30, // 30Ïùº Ï†Ñ
                    depositAccount: '123-456-1111'
                }];
                localStorage.setItem('trustFinMyLoans', JSON.stringify(defaultLoans));
            }
            
            window.location.href = 'home.html';
        }

        function selectGuest() {
            // Î°úÎî© Ïò§Î≤ÑÎ†àÏù¥ ÌëúÏãú
            const overlay = document.getElementById('loadingOverlay');
            const content = overlay.querySelector('div');
            
            overlay.classList.remove('hidden');
            if (window.lucide) window.lucide.createIcons();
            
            requestAnimationFrame(() => {
                overlay.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            });

            // 1Ï¥à ÌõÑ Í≤åÏä§Ìä∏ Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨
            setTimeout(() => {
                processGuestLogin();
            }, 1000);
        }

        function processGuestLogin() {
            const guestPersona = {
                id: 'guest',
                name: 'Í≤åÏä§Ìä∏',
                age: 0,
                job: 'unemployed',
                income: 0,
                creditScore: 0,
                accounts: []
            };
            
            localStorage.setItem('trustFinPersona', JSON.stringify(guestPersona));
            localStorage.removeItem('trustFinUserData');
            localStorage.removeItem('trustFinNotifications');
            localStorage.removeItem('trustFinTransactions');
            localStorage.removeItem('selectedCard');
            localStorage.removeItem('newDepositAmount');
            
            window.location.href = 'home.html';
        }
    </script>
</body>
</html>